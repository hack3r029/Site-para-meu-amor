<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Para Guilherme ‚ù§Ô∏è</title>

  <!-- ======== PROTE√á√ÉO POR SENHA (PARTE VISUAL E CSS) ======== -->
  <style>
    #senhaTela {
      position: fixed;
      inset: 0;
      background: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 999999999;
      font-family: Arial, sans-serif;
    }
    #senhaTela h2 {
      font-size: 22px;
      margin-bottom: 10px;
    }
    #senhaTela input {
      padding: 10px;
      font-size: 18px;
      border: 2px solid #ccc;
      border-radius: 8px;
      width: 200px;
      text-align: center;
      margin-bottom: 10px;
    }
    #senhaTela button {
      background: #ff6aa0;
      color: white;
      font-size: 16px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #senhaErro {
      color: red;
      margin-top: 10px;
      font-size: 14px;
    }
  </style>

  <!-- ======== RESTANTE DO STYLE DO SITE ======== -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #fff8fb;
      --bg2: #fff0f6;
      --accent: #ff6b9a;
      --muted: #6b6b6b;
      --card: rgba(255,255,255,0.8);
    }
    *{box-sizing:border-box}
    body{font-family: 'Montserrat', sans-serif; margin:0; background:linear-gradient(180deg,var(--bg1),var(--bg2)); color:#222}
    .container{max-width:960px;margin:32px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .logo{width:72px;height:72px;border-radius:18px;background:linear-gradient(135deg,#fff,#ffeaf0);display:flex;align-items:center;justify-content:center;font-size:34px}
    h1{font-family:'Playfair Display', serif;margin:0;font-size:28px}
    p.lead{margin:6px 0 0;color:var(--muted)}
    .card{background:var(--card);backdrop-filter: blur(6px);border-radius:14px;padding:18px;margin-bottom:18px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .photo img{width:100%;height:100%;object-fit:contain}
    .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px}
    .msg { padding:10px;border-radius:8px;border:1px solid #fde8f1;margin-bottom:8px;background:white }
    .msg .meta { font-size:13px;color:var(--muted) }
  </style>
</head>

<body>

  <!-- ======== PROTE√á√ÉO POR SENHA (FUNCIONAL) ======== -->
  <div id="senhaTela">
    <h2>Digite a senha para acessar ‚ù§Ô∏è</h2>
    <input type="password" id="senhaInput" placeholder="Senha">
    <button onclick="verificarSenha()">Entrar</button>
    <div id="senhaErro"></div>
  </div>

  <script>
    const senhaCorreta = "MYLOVE5";

    function verificarSenha() {
      const entrada = document.getElementById("senhaInput").value;

      if (entrada === senhaCorreta) {
        localStorage.setItem("acessoLiberado", "sim");
        document.getElementById("senhaTela").style.display = "none";
      } else {
        document.getElementById("senhaErro").innerText = "Senha incorreta üíî";
      }
    }

    // Impede burlar a senha recarregando a p√°gina
    if (localStorage.getItem("acessoLiberado") === "sim") {
      document.getElementById("senhaTela").style.display = "none";
    }
  </script>
  <!-- ======== FIM DA PROTE√á√ÉO ======== -->

  <!-- ======== CONTE√öDO DO SITE (SECRETO) ======== -->
  <div class="container">

    <header>
      <div class="logo">‚ù§</div>
      <div>
        <h1>Para Guilherme</h1>
        <p class="lead">Um cantinho s√≥ nosso ‚Äî textos, imagens e pequenos lembretes de amor.</p>
      </div>
    </header>

    <section class="card">
      <h2>Nosso espa√ßo üíñ</h2>
      <p>Aqui ficam fotos, mensagens e tudo que guardo com carinho sobre n√≥s.</p>
      <div class="photo">
        <img src="https://raw.githubusercontent.com/hack3r029/Foto1/main/IMG-20251020-WA0280.jpg">
      </div>
    </section>

    <section class="card" id="cartas">
      <h3>Cartas & Mensagens</h3>
      <blockquote><strong>Minha promessa:</strong> Prometo te amar no detalhe, na calma, no sil√™ncio e no caos.</blockquote>
      <blockquote><strong>Hoje:</strong> Pensei em voc√™. E isso j√° foi suficiente para meu dia ficar melhor.</blockquote>
    </section>

    <section class="card">
      <h3>Deixe uma mensagem pra mim üíå</h3>
      <form id="noteForm" onsubmit="saveNote(event)">
        <input id="noteName" type="text" placeholder="Seu nome" required
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #f0dbe2;margin-bottom:10px">

        <textarea id="noteText" rows="4" placeholder="Escreva algo..." required
          style="width:100%;padding:10px;border-radius:8px;border:1px solid #f0dbe2"></textarea>

        <button class="btn" type="submit"
          style="margin-top:10px;background:#ff6aa0;color:#fff;border:none;padding:10px 20px;border-radius:12px;cursor:pointer">
          Salvar
        </button>
      </form>

      <div id="notesArea" style="margin-top:12px"><em>Carregando mensagens...</em></div>
    </section>

    <footer style="text-align:center;margin-top:20px;color:#777;font-size:13px">
      Feito com ‚ù§Ô∏è para Guilherme.
    </footer>
  </div>

  <!-- ======== FIREBASE MENSAGENS ONLINE ======== -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getFirestore, collection, addDoc, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyB1YSEkJdFC2woR-1O-h-C_-hMWrMhJzNU",
      authDomain: "mensagens-guilherme.firebaseapp.com",
      projectId: "mensagens-guilherme",
      storageBucket: "mensagens-guilherme.firebasestorage.app",
      messagingSenderId: "708631649836",
      appId: "1:708631649836:web:80337bce5195d511cd7b89"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const msgsCol = collection(db, "mensagens");

    async function saveNoteOnline(name, text){
      await addDoc(msgsCol, {
        nome: name,
        texto: text,
        timestamp: Date.now(),
        data: new Date().toLocaleString()
      });
    }

    const q = query(msgsCol, orderBy("timestamp", "desc"));
    onSnapshot(q, (snapshot) => {
      const area = document.getElementById('notesArea');
      if(snapshot.empty){
        area.innerHTML = '<em>Nenhuma mensagem ainda.</em>';
        return;
      }
      let html = "";
      snapshot.forEach(doc => {
        const d = doc.data();
        html += `
          <div class="msg">
            <div class="meta">${d.data} ‚Äî <strong>${d.nome}</strong></div>
            <div style="margin-top:6px">${d.texto}</div>
          </div>
        `;
      });
      area.innerHTML = html;
    });

    window.saveNote = async function(e){
      e.preventDefault();
      const name = document.getElementById('noteName').value.trim();
      const text = document.getElementById('noteText').value.trim();
      if(!name || !text) return alert("Preencha tudo üíó");
      await saveNoteOnline(name, text);
      document.getElementById('noteText').value = "";
    };
  </script>

</body>
</html>
